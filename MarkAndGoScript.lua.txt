-- Cria a ScreenGui e os botões
local player = game.Players.LocalPlayer
local gui = Instance.new("ScreenGui", player.PlayerGui)
gui.Name = "PosMarkerGui"

local markBtn = Instance.new("TextButton", gui)
markBtn.Size = UDim2.new(0, 150, 0, 50)
markBtn.Position = UDim2.new(0, 20, 0, 100)
markBtn.Text = "Marcar Posição"

local goBtn = Instance.new("TextButton", gui)
goBtn.Size = UDim2.new(0, 150, 0, 50)
goBtn.Position = UDim2.new(0, 20, 0, 160)
goBtn.Text = "Ir para Posição"

-- Variável para armazenar a posição
local savedCFrame = nil

-- Função para marcar a posição
markBtn.MouseButton1Click:Connect(function()
    local char = player.Character or player.CharacterAdded:Wait()
    if char and char:FindFirstChild("HumanoidRootPart") then
        savedCFrame = char.HumanoidRootPart.CFrame
        markBtn.Text = "Posição Marcada!"
        wait(1)
        markBtn.Text = "Marcar Posição"
    end
end)

-- Função para ir até a posição salva flutuando devagar
goBtn.MouseButton1Click:Connect(function()
    local char = player.Character or player.CharacterAdded:Wait()
    if savedCFrame and char and char:FindFirstChild("HumanoidRootPart") then
        local hrp = char.HumanoidRootPart

        local TweenService = game:GetService("TweenService")
        local distance = (hrp.Position - savedCFrame.Position).magnitude
        local duration = math.clamp(distance / 10, 0.5, 5) -- tempo proporcional à distância

        local tweenInfo = TweenInfo.new(
            duration,
            Enum.EasingStyle.Linear,
            Enum.EasingDirection.Out
        )

        -- Tween para o CFrame inteiro, assim ele "flutua" (não só anda no chão)
        local tween = TweenService:Create(hrp, tweenInfo, {CFrame = savedCFrame})
        tween:Play()
    end
end)
